[TOC]



#### 1：数据的表示

##### 按权展开法

拆分每个位置上的数，即每个位置的数和其权相乘。

将R进制的每一位数值使用$R^k$，即幂的底数是R，指数为k



##### 进制转换（短除法）

+ 十进制转R进制使用短除法

  ```
  R|94		余0
  2|47		余1
  2|23		余1
  2|11		余1
  2|5 		余1
  2|2			余0
  2|1			余1
  2|0
  
  逆序取余数	1011110
  ```



##### 原码

+ 最高位为符号位

+ 对于正数而言，符号位为0
+ 对于负数而言，符号位为1

```
正1：00000001
负1：10000001

则1+（-1） = 00000001
     	    10000001
     	 ----------------
     	 	10000010
     	  = -2
```



##### 反码

+ 正数的反码为原码
+ 负数的反码为符号位不变，其它位在原码的基础上取反



##### 补码

+ 正数的补码为原码
+ 负数的补码是在反码的基础上加1

+ 计算机做运算使用的是补码

##### 移码

+ 主要用于在浮点运算中做
+ 在补码的基础上把首位（符号位）取反



##### 常见考题

+ 数值表示范围

  |      | 二进制         | 整数 |
  | ---- | -------------- | ---- |
  | 原码 | 1111111-0111111 | $$-\left(2^{n-1} - 1\right)$$ ~ $2^{n-1}-1$  即 -127  ~ 127 |
  | 反码 | 11111111-01111111 | $$-\left(2^{n-1} - 1 \right)$$ ~ $2^{n-1}-1$  即 -127  ~ 127 |
  | 补码 | 10000000-0111111 | $$-\left(2^{n-1}\right)$$ ~ $2^{n-1}-1$  即 -128  ~ 127 |

  

#### 2：浮点数运算

+ 浮点数表示

  $N = M * R^e$

  其中M称为尾数，e是指数，R为基数

+ 浮点数运算步骤

  $$对阶\implies尾数运算\implies结果格式化$$

  $$1000 = 1.0 * 10^3$$

   $$119 = 1.19 * 10^2$$


  ```
  一般对阶时，将低的阶向高阶转换。
  结果格式化时，尾数的第一位（即小数点左侧的位）不可以是0，也不可以大于1位
  ```

  


#### 3：CPU结构

##### 运算器

+ 算术逻辑单元ALU

+ 累加寄存器AC

  通用的寄存器。

+ 数据缓冲寄存器DR

  用于暂存数据。

+ 状态条件寄存器PSW

  用来存储在运算过程中相关的标志位，如进位、溢出和中断。

##### 控制器

+ 程序计数器PC
+ 指令计算器IR
+ 指令译码器
+ 时序部件





#### 4：CISC和RISC

##### Flynn

| 体系结构类型       | 结构                                     | 关键特性                               | 代表                                   |
| ------------------ | ---------------------------------------- | -------------------------------------- | -------------------------------------- |
| 单指令单数据流SISD | 控制部分一个；处理器一个；主存模块一个； |                                        | 单处理器系统                           |
| 单指令多数据流SIMD | 控制部分一个；处理器多个；主存模块多个； | 各处理器以异步的形式处理同一个指令     | 并行处理机，阵列处理机，超级向量处理机 |
| 多指令单数据流MISD | 控制部分多个；处理器一个；主存模块一个； | 被证明不可能，至少是不实际             | 目前没有                               |
| 多指令多数据流MIMD | 控制部分多个；处理器多个；主存模块多个； | 能够实现作业，任务，指令等各级全面并行 | 多处理机系统                           |

##### CISC（复杂指令系统）

| 指令系统类型 | 指令                               | 寻址方式 | 实现方式               | 其他       |
| ------------ | ---------------------------------- | -------- | ---------------------- | ---------- |
| CISC（复杂） | 数量多，使用频率差别大，可变长格式 | 支持多种 | 微程序控制技术（微码） | 研制周期长 |



##### RISC（精简指令系统）

| 指令系统类型 | 指令                                                         | 寻址方式   | 实现方式                                               | 其他                       |
| ------------ | ------------------------------------------------------------ | ---------- | ------------------------------------------------------ | -------------------------- |
| RISC（精简） | 数量少，使用频率接近。定长格式，大部分为单周期指令，操作寄存器，只有Load/Store操作内存 | 支持方式少 | 增加了通用寄存器；硬布线控制逻辑为主，适合采用流水线。 | 优化编译，有效支持高级语言 |



#### 5：流水线

##### 基本概念

> 流水线是指程序执行时，多条指令重叠进行操作的一种准并行实现处理技术。各种部件同时处理是针对不同指令而言的，它们可同时为多条指令的不同部分进行工作，以提高各部件的利用率和指令的平均执行速度。



##### 周期及流水线执行时间

$取指\implies分析\implies执行$

+ 流水线周期

  ```
  执行时间最长的一段
  ```

+ 流水线计算公式

  ```
  一条指令执行时间 + （指令条数 - 1 ） * 流水线周期
  考试时优先使用理论公式，没有符合的答案，则使用实践公式
  ```

  + 理论公式（tk表示每个段占用的时间）

    $(t1+t2+\ldots+tk)+(n-1)*\Delta t$

  + 实践公式（把每个段执行时间都看作周期时间，其中k表示有几个段）

    $(k + n-1)*\Delta t$



##### 吞吐率

> 指在单位时间内流水线所完成的任务数量或输出的结果数量。

+ 吞吐率公式

  $TP = \frac{指令条数}{流水线执行时间}$

+ 最大吞吐率公式（理想状态的情况）

  $TP_{max} = \lim_{n \to \infty} \frac{n}{k + n -1} = \frac{1}{\Delta t} $

##### 加速比

> 完成同一批任务，不使用流水线和使用流水线时间的比值。加速比越高越好。

+ 加速比公式

  $S = \frac{不使用流水线执行时间}{使用流水线时间}$

  

##### 效率

> 流水线的效率是指流水线的设备利用率，在时空图上，流水线的效率定义为n个任务占用的时空区与k个流水段总的时空区之比。

+ 流水线效率公式

  $E = \frac{n个任务占用的时空区}{k个流水段总的时空区} = \frac{T_n}{KT_k}$

##### 例题

```
若指令流水线把一条指令分为取指、分析和执行三部分，且三部分执行时间分别为2ns，2ns，1ns。
那么，
流水线的周期是多少？
100条指令执行完毕需要多长时间？
吞吐率是多少？
最大吞吐率是多少？
加速比是多少

答：
流水线周期为2ns。
100条指令执行完毕需要时间= 流水线建立时间 + （n-1）* 流水线周期时间 = 5 + （99）*2 = 203ns
吞吐率 = 100/203ns
最大吞吐率 = 1/2
吞吐率 = （2+2+1）*100/203=500/203
```





#### 6：计算机存储

##### Cache



##### 时间局部性和空间局部性



##### 随机存储器和只读存储器



##### 磁盘工作原理



#### 7：计算机总线





#### 8：串联系统和并联系统



#### 9：校验码

##### 循环校验码（CRC）



##### 海明校验码









​                                                                                                                 